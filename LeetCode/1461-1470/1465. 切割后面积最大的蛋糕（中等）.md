### é¢˜ç›®æè¿°

è¿™æ˜¯ LeetCode ä¸Šçš„ **[1465. åˆ‡å‰²åé¢ç§¯æœ€å¤§çš„è›‹ç³•](https://leetcode.cn/problems/maximum-area-of-a-piece-of-cake-after-horizontal-and-vertical-cuts/solutions/2500353/gong-shui-san-xie-noxiang-xin-ke-xue-xi-ecnvl/)** ï¼Œéš¾åº¦ä¸º **ä¸­ç­‰**ã€‚

Tag : ã€Œè´ªå¿ƒã€ã€ã€Œæ¨¡æ‹Ÿã€



çŸ©å½¢è›‹ç³•çš„é«˜åº¦ä¸º `h` ä¸”å®½åº¦ä¸º `w`ï¼Œç»™ä½ ä¸¤ä¸ªæ•´æ•°æ•°ç»„ `hs` å’Œ `vs`ï¼Œå…¶ä¸­ï¼š

* `hs[i]` æ˜¯ä»çŸ©å½¢è›‹ç³•é¡¶éƒ¨åˆ°ç¬¬  `i` ä¸ªæ°´å¹³åˆ‡å£çš„è·ç¦»
* `vs[j]` æ˜¯ä»çŸ©å½¢è›‹ç³•çš„å·¦ä¾§åˆ°ç¬¬ `j` ä¸ªç«–ç›´åˆ‡å£çš„è·ç¦»

è¯·ä½ æŒ‰æ•°ç»„ `hs` å’Œ `vs` ä¸­æä¾›çš„æ°´å¹³å’Œç«–ç›´ä½ç½®åˆ‡å‰²åï¼Œè¯·ä½ æ‰¾å‡º**é¢ç§¯æœ€å¤§**çš„é‚£ä»½è›‹ç³•ï¼Œå¹¶è¿”å›å…¶**é¢ç§¯**ã€‚

ç”±äºç­”æ¡ˆå¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°å­—ï¼Œå› æ­¤éœ€è¦å°†ç»“æœ å¯¹ $10^9 + 7$ å–ä½™ åè¿”å›ã€‚

ç¤ºä¾‹ 1ï¼š
![](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/05/30/leetcode_max_area_2.png)

```
è¾“å…¥ï¼šh = 5, w = 4, hs = [1,2,4], vs = [1,3]

è¾“å‡ºï¼š4 

è§£é‡Šï¼šä¸Šå›¾æ‰€ç¤ºçš„çŸ©é˜µè›‹ç³•ä¸­ï¼Œçº¢è‰²çº¿è¡¨ç¤ºæ°´å¹³å’Œç«–ç›´æ–¹å‘ä¸Šçš„åˆ‡å£ã€‚åˆ‡å‰²è›‹ç³•åï¼Œç»¿è‰²çš„é‚£ä»½è›‹ç³•é¢ç§¯æœ€å¤§ã€‚
```
ç¤ºä¾‹ 2ï¼š
![](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/05/30/leetcode_max_area_3.png)

```
è¾“å…¥ï¼šh = 5, w = 4, hs = [3,1], vs = [1]

è¾“å‡ºï¼š6

è§£é‡Šï¼šä¸Šå›¾æ‰€ç¤ºçš„çŸ©é˜µè›‹ç³•ä¸­ï¼Œçº¢è‰²çº¿è¡¨ç¤ºæ°´å¹³å’Œç«–ç›´æ–¹å‘ä¸Šçš„åˆ‡å£ã€‚åˆ‡å‰²è›‹ç³•åï¼Œç»¿è‰²å’Œé»„è‰²çš„ä¸¤ä»½è›‹ç³•é¢ç§¯æœ€å¤§ã€‚
```
ç¤ºä¾‹ 3ï¼š
```
è¾“å…¥ï¼šh = 5, w = 4, hs = [3], vs = [3]

è¾“å‡ºï¼š9
```

æç¤ºï¼š
* $2 <= h, w <= 10^9$
* $1 <= hs.length <= \min(h - 1, 10^5)$
* $1 <= vs.length <= \min(w - 1, 10^5)$
* $1 <= hs[i] < h$
* $1 <= vs[i] < w$
* é¢˜ç›®æ•°æ®ä¿è¯ `hs` ä¸­çš„æ‰€æœ‰å…ƒç´ å„ä¸ç›¸åŒ
* é¢˜ç›®æ•°æ®ä¿è¯ `vs` ä¸­çš„æ‰€æœ‰å…ƒç´ å„ä¸ç›¸åŒ

---

### è´ªå¿ƒ 

ç”±äºæ±‚æ˜¯â€œæœ€å¤§â€è›‹ç³•é¢ç§¯ï¼Œ**æ°´å¹³/å‚ç›´æ–¹å‘çš„è¿ç»­æ®µå¿…ç„¶ç”±ã€ŒåŒæ–¹å‘ä¸”ç›¸é‚»ã€çš„åˆ‡å‰²ä½ç½®ï¼ˆæˆ–æ˜¯è›‹ç³•è¾¹ç•Œï¼‰æ‰€æ„æˆ**ã€‚

è¿™ç‚¹å¯é€šè¿‡åè¯æ³•è¯æ˜ï¼šå¦‚æœæœ€ç»ˆè›‹ç³•çš„ï¼ˆå·¦å³æˆ–ä¸Šä¸‹ï¼‰è¾¹ç¼˜ä¸æ˜¯ç”±ã€Œç›¸é‚»ã€çš„åˆ‡å‰²ä½ç½®ï¼ˆæˆ–æ˜¯è›‹ç³•è¾¹ç•Œï¼‰å†³å®šï¼Œè€Œæ˜¯ç”±è·¨è¶ŠæŸäº›åˆ‡å‰²ç‚¹çš„ä½ç½®æ‰€å†³å®šçš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªè›‹ç³•å¿…ä¸æ˜¯â€œå®Œæ•´â€ä¸€å—ã€‚

ç”¨é¢˜é¢çš„ç¤ºä¾‹ $1$ æ¥ä¸¾ä¸ª ğŸŒ°ï¼Œæˆ‘ä»¬ä»…åˆ†ææ°´å¹³æ–¹å‘ï¼ˆ`hs = [1, 2, 4]`ï¼‰ï¼š

![](https://pic.leetcode.cn/1698368791-oqxBRO-image.png)

æœ€ç»ˆè›‹ç³•çš„åœ¨è¯¥æ–¹å‘çš„è¿ç»­æ®µå¤§å°ï¼Œåªèƒ½æ˜¯ `[ä¸Šè¾¹ç¼˜, åˆ‡å‰²ç‚¹ 1]`ã€`[åˆ‡å‰²ç‚¹ 1, åˆ‡å‰²ç‚¹ 2]`ã€`[åˆ‡å‰²ç‚¹ 2, åˆ‡å‰²ç‚¹ 4]` å’Œ `[åˆ‡å‰²ç‚¹ 4, ä¸‹è¾¹ç¼˜]` å››ä¸ªä¹‹ä¸€ï¼Œè€Œä¸å¯èƒ½ç”±éç›¸é‚»åˆ‡å‰²ç‚¹æ‰€ç»„æˆï¼Œä¾‹å¦‚ `[åˆ‡å‰²ç‚¹ 1, åˆ‡å‰²ç‚¹ 4]`ï¼ˆä¼šè¢« `åˆ‡å‰²ç‚¹ 2` æ‰€ä¸€åˆ†ä¸ºäºŒï¼Œä¸å†å®Œæ•´ï¼‰ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å¯å…ˆå¯¹ `hs` å’Œ `vs` è¿›è¡Œæ’åºï¼Œä»è€Œç¡®ä¿æˆ‘ä»¬åœ¨éå† `hs` å’Œ `vs` è¿‡ç¨‹ä¸­ï¼Œå¤„ç†åˆ°çš„å‡ä¸ºã€ŒåŒåå‘ä¸”ç›¸é‚»ã€çš„åˆ‡å‰²ä½ç½®ã€‚

éšåï¼Œåˆ©ç”¨ä¿©æ–¹å‘ç›¸äº’ç‹¬ç«‹ï¼Œåˆ†åˆ«æ±‚å‡ºä¿©æ–¹å‘è¿ç»­æ®µçš„æœ€å¤§é•¿åº¦ï¼Œä¸¤è€…ä¹˜ç§¯å³æ˜¯ç­”æ¡ˆã€‚

Java ä»£ç ï¼š

```Java
class Solution {
    int MOD = (int)1e9+7;
    public int maxArea(int h, int w, int[] hs, int[] vs) {
        Arrays.sort(hs);
        Arrays.sort(vs);
        int n = hs.length, m = vs.length;
        int mh = Math.max(hs[0], h - hs[n - 1]), mv = Math.max(vs[0], w - vs[m - 1]);
        for (int i = 1; i < n; i++) mh = Math.max(mh, hs[i] - hs[i - 1]);
        for (int i = 1; i < m; i++) mv = Math.max(mv, vs[i] - vs[i - 1]);
        return (int)((mh * 1L * mv) % MOD);
    }
}
```
C++ ä»£ç ï¼š
```C++
class Solution {
public:
    int maxArea(int h, int w, vector<int>& hs, vector<int>& vs) {
        int MOD = 1e9+7;
        sort(hs.begin(), hs.end());
        sort(vs.begin(), vs.end());
        int n = hs.size(), m = vs.size();
        int mh = max(hs[0], h - hs[n - 1]), mv = max(vs[0], w - vs[m - 1]);
        for (int i = 1; i < n; i++) mh = max(mh, hs[i] - hs[i - 1]);
        for (int i = 1; i < m; i++) mv = max(mv, vs[i] - vs[i - 1]);
        return (mh * 1L * mv) % MOD;
    }
};
```
Python ä»£ç ï¼š
```Python
class Solution:
    def maxArea(self, h: int, w: int, hs: List[int], vs: List[int]) -> int:
        MOD = 10 ** 9 + 7
        hs.sort()
        vs.sort()
        n, m = len(hs), len(vs)
        mh, mv = max(hs[0], h - hs[n - 1]), max(vs[0], w - vs[m - 1])
        for i in range(1, n):
            mh = max(mh, hs[i] - hs[i - 1])
        for i in range(1, m):
            mv = max(mv, vs[i] - vs[i - 1])
        return (mh * mv) % MOD
```
TypeScript ä»£ç ï¼š
```TypeScript
function maxArea(h: number, w: number, hs: number[], vs: number[]): number {
    const MOD = BigInt(1e9 + 7);
    hs.sort((a,b)=>a-b);
    vs.sort((a,b)=>a-b);
    const n = hs.length, m = vs.length;
    let mh = Math.max(hs[0], h - hs[n - 1]), mv = Math.max(vs[0], w - vs[m - 1]);
    for (let i = 1; i < n; i++) mh = Math.max(mh, hs[i] - hs[i - 1]);
    for (let i = 1; i < m; i++) mv = Math.max(mv, vs[i] - vs[i - 1]);
    return Number((BigInt(mh) * BigInt(mv)) % MOD);
};
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(m\log{m} + n\log{n})$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(\max(\log{m}, \log{n})$

---

### æœ€å

è¿™æ˜¯æˆ‘ä»¬ã€Œåˆ·ç©¿ LeetCodeã€ç³»åˆ—æ–‡ç« çš„ç¬¬ `No.1465` ç¯‡ï¼Œç³»åˆ—å¼€å§‹äº 2021/01/01ï¼Œæˆªæ­¢äºèµ·å§‹æ—¥ LeetCode ä¸Šå…±æœ‰ 1916 é“é¢˜ç›®ï¼Œéƒ¨åˆ†æ˜¯æœ‰é”é¢˜ï¼Œæˆ‘ä»¬å°†å…ˆæŠŠæ‰€æœ‰ä¸å¸¦é”çš„é¢˜ç›®åˆ·å®Œã€‚

åœ¨è¿™ä¸ªç³»åˆ—æ–‡ç« é‡Œé¢ï¼Œé™¤äº†è®²è§£è§£é¢˜æ€è·¯ä»¥å¤–ï¼Œè¿˜ä¼šå°½å¯èƒ½ç»™å‡ºæœ€ä¸ºç®€æ´çš„ä»£ç ã€‚å¦‚æœæ¶‰åŠé€šè§£è¿˜ä¼šç›¸åº”çš„ä»£ç æ¨¡æ¿ã€‚

ä¸ºäº†æ–¹ä¾¿å„ä½åŒå­¦èƒ½å¤Ÿç”µè„‘ä¸Šè¿›è¡Œè°ƒè¯•å’Œæäº¤ä»£ç ï¼Œæˆ‘å»ºç«‹äº†ç›¸å…³çš„ä»“åº“ï¼šhttps://github.com/SharingSource/LogicStack-LeetCode ã€‚

åœ¨ä»“åº“åœ°å€é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°ç³»åˆ—æ–‡ç« çš„é¢˜è§£é“¾æ¥ã€ç³»åˆ—æ–‡ç« çš„ç›¸åº”ä»£ç ã€LeetCode åŸé¢˜é“¾æ¥å’Œå…¶ä»–ä¼˜é€‰é¢˜è§£ã€‚

