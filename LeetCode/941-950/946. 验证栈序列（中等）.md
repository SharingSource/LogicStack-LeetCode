### é¢˜ç›®æè¿°

è¿™æ˜¯ LeetCode ä¸Šçš„ **[946. éªŒè¯æ ˆåºåˆ—](https://leetcode.cn/problems/validate-stack-sequences/solution/by-ac_oier-84qd/)** ï¼Œéš¾åº¦ä¸º **ä¸­ç­‰**ã€‚

Tag : ã€Œæ¨¡æ‹Ÿã€ã€ã€Œæ ˆã€ã€ã€ŒåŒæŒ‡é’ˆã€



ç»™å®šÂ `pushed`Â å’ŒÂ `popped`Â ä¸¤ä¸ªåºåˆ—ï¼Œæ¯ä¸ªåºåˆ—ä¸­çš„ å€¼éƒ½ä¸é‡å¤ï¼Œåªæœ‰å½“å®ƒä»¬å¯èƒ½æ˜¯åœ¨æœ€åˆç©ºæ ˆä¸Šè¿›è¡Œçš„æ¨å…¥ `push` å’Œå¼¹å‡º `pop` æ“ä½œåºåˆ—çš„ç»“æœæ—¶ï¼Œè¿”å› `true`ï¼›å¦åˆ™ï¼Œè¿”å› `false`ã€‚

ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥ï¼špushed = [1,2,3,4,5], popped = [4,5,3,2,1]

è¾“å‡ºï¼štrue

è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š
push(1), push(2), push(3), push(4), pop() -> 4,
push(5), pop() -> 5, pop() -> 3, pop() -> 2, pop() -> 1
```
ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥ï¼špushed = [1,2,3,4,5], popped = [4,3,5,1,2]

è¾“å‡ºï¼šfalse

è§£é‡Šï¼š1 ä¸èƒ½åœ¨ 2 ä¹‹å‰å¼¹å‡ºã€‚
```

æç¤ºï¼š
* $1 <= pushed.length <= 1000$
* $0 <= pushed[i] <= 1000$
* `pushed` çš„æ‰€æœ‰å…ƒç´  äº’ä¸ç›¸åŒ
* $popped.length = pushed.length$
* `popped` æ˜¯ `pushed` çš„ä¸€ä¸ªæ’åˆ—

---

### æ ˆè¿ç”¨æ¨¡æ‹Ÿ

æ ¹æ®é¢˜æ„ï¼Œåˆ©ç”¨å…ƒç´ å„ä¸ç›¸åŒï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ ˆæ¥å¤„ç† `pushed` æ•°ç»„ï¼Œæ¯æ¬¡å°† $pushed[i]$ æ”¾å…¥æ ˆä¸­ï¼Œç„¶åæ¯”è¾ƒå½“å‰æ ˆé¡¶å…ƒç´ æ˜¯å¦ä¸å¾…å¼¹å‡ºå…ƒç´ ç›¸åŒï¼ˆä½¿ç”¨å˜é‡ `j` æ¥ä»£æŒ‡å½“å‰å¾…å¼¹å‡ºå…ƒç´ ä¸‹æ ‡ï¼‰ï¼Œè‹¥ç›¸ç­‰åˆ™å¼¹æ ˆå¹¶è¿›è¡Œ `j` è‡ªå¢ï¼Œå½“æ‰€æœ‰çš„å…ƒç´ å¤„ç†å®Œåï¼Œæ ˆä¸ºç©ºè¯´æ˜æ ˆåºåˆ—åˆæ³•ã€‚

Java ä»£ç ï¼š
```Java
class Solution {
    public boolean validateStackSequences(int[] pushed, int[] popped) {
        Deque<Integer> d = new ArrayDeque<>();
        for (int i = 0, j = 0; i < pushed.length; i++) {
            d.addLast(pushed[i]);
            while (!d.isEmpty() && d.peekLast() == popped[j] && ++j >= 0) d.pollLast(); 
        }
        return d.isEmpty();
    }
}
```
Typescript ä»£ç ï¼š
```Typescript
function validateStackSequences(pushed: number[], popped: number[]): boolean {
    let n = pushed.length, he = 0, ta = 0
    const stk: number[] = new Array<number>(n).fill(0)
    for (let i = 0, j = 0; i < n; i++) {
        stk[ta++] = pushed[i]
        while (he < ta && stk[ta - 1] == popped[j] && ++j >= 0) ta--
    }
    return he == ta
};
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$

---

### åŒæŒ‡é’ˆ

æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥åˆ©ç”¨ `pushed` å……å½“æ ˆï¼Œä½¿ç”¨å˜é‡ `idx` ä»£æŒ‡æ ˆé¡¶ä¸‹æ ‡ï¼Œå˜é‡ `j` æŒ‡å‘ `popped` ä¸­å¾…å¼¹å‡ºçš„å…ƒç´ ã€‚

è¯¥åšæ³•å¥½å¤„æ— é¡»é¢å¤–ç©ºé—´ï¼Œåå¤„æ˜¯ä¼šä¿®æ”¹å…¥å‚æ•°ç»„ã€‚

Java ä»£ç ï¼š
```Java
class Solution {
    public boolean validateStackSequences(int[] pushed, int[] popped) {
        int n = pushed.length, idx = 0;
        for (int i = 0, j = 0; i < n; i++) {
            pushed[idx++] = pushed[i];
            while (idx > 0 && pushed[idx - 1] == popped[j] && ++j >= 0) idx--;
        }
        return idx == 0;
    }
}
```
TypeScript ä»£ç ï¼š
```TypeScript
function validateStackSequences(pushed: number[], popped: number[]): boolean {
    let n = pushed.length, idx = 0
    for (let i = 0, j = 0; i < n; i++) {
        pushed[idx++] = pushed[i]
        while (idx > 0 && pushed[idx - 1] == popped[j] && ++j >= 0) idx--
    }
    return idx == 0
};
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

---

### åŠ é¤

**åŠ é¤ä¸€é“åŒç±»å‹é¢˜ç›® : [å¸¸è§„æ ˆè¿ç”¨é¢˜](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247493276&idx=1&sn=b4b1ff8e6b1794f4f2e4327399755b0c)ğŸ‰ğŸ‰**

---

### æœ€å

è¿™æ˜¯æˆ‘ä»¬ã€Œåˆ·ç©¿ LeetCodeã€ç³»åˆ—æ–‡ç« çš„ç¬¬ `No.946` ç¯‡ï¼Œç³»åˆ—å¼€å§‹äº 2021/01/01ï¼Œæˆªæ­¢äºèµ·å§‹æ—¥ LeetCode ä¸Šå…±æœ‰ 1916 é“é¢˜ç›®ï¼Œéƒ¨åˆ†æ˜¯æœ‰é”é¢˜ï¼Œæˆ‘ä»¬å°†å…ˆæŠŠæ‰€æœ‰ä¸å¸¦é”çš„é¢˜ç›®åˆ·å®Œã€‚

åœ¨è¿™ä¸ªç³»åˆ—æ–‡ç« é‡Œé¢ï¼Œé™¤äº†è®²è§£è§£é¢˜æ€è·¯ä»¥å¤–ï¼Œè¿˜ä¼šå°½å¯èƒ½ç»™å‡ºæœ€ä¸ºç®€æ´çš„ä»£ç ã€‚å¦‚æœæ¶‰åŠé€šè§£è¿˜ä¼šç›¸åº”çš„ä»£ç æ¨¡æ¿ã€‚

ä¸ºäº†æ–¹ä¾¿å„ä½åŒå­¦èƒ½å¤Ÿç”µè„‘ä¸Šè¿›è¡Œè°ƒè¯•å’Œæäº¤ä»£ç ï¼Œæˆ‘å»ºç«‹äº†ç›¸å…³çš„ä»“åº“ï¼šhttps://github.com/SharingSource/LogicStack-LeetCode ã€‚

åœ¨ä»“åº“åœ°å€é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°ç³»åˆ—æ–‡ç« çš„é¢˜è§£é“¾æ¥ã€ç³»åˆ—æ–‡ç« çš„ç›¸åº”ä»£ç ã€LeetCode åŸé¢˜é“¾æ¥å’Œå…¶ä»–ä¼˜é€‰é¢˜è§£ã€‚

