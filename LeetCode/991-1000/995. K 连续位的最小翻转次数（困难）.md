### é¢˜ç›®æè¿°

è¿™æ˜¯ LeetCode ä¸Šçš„ **[995. K è¿ç»­ä½çš„æœ€å°ç¿»è½¬æ¬¡æ•°](https://leetcode-cn.com/problems/minimum-number-of-k-consecutive-bit-flips/solution/po-su-tan-xin-jie-fa-yu-tan-xin-chai-fen-4lyy/)** ï¼Œéš¾åº¦ä¸º **å›°éš¾**ã€‚

Tag : ã€Œè´ªå¿ƒã€ã€ã€Œå·®åˆ†ã€



åœ¨ä»…åŒ…å« 0 å’Œ 1 çš„æ•°ç»„ `A` ä¸­ï¼Œä¸€æ¬¡ `K` ä½ç¿»è½¬åŒ…æ‹¬é€‰æ‹©ä¸€ä¸ªé•¿åº¦ä¸º `K` çš„ï¼ˆè¿ç»­ï¼‰å­æ•°ç»„ï¼ŒåŒæ—¶å°†å­æ•°ç»„ä¸­çš„æ¯ä¸ª 0 æ›´æ”¹ä¸º 1ï¼Œè€Œæ¯ä¸ª 1 æ›´æ”¹ä¸º 0ã€‚

è¿”å›æ‰€éœ€çš„ `K` ä½ç¿»è½¬çš„æœ€å°æ¬¡æ•°ï¼Œä»¥ä¾¿æ•°ç»„æ²¡æœ‰å€¼ä¸º 0 çš„å…ƒç´ ã€‚

å¦‚æœä¸å¯èƒ½ï¼Œè¿”å› -1ã€‚


ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥ï¼šA = [0,1,0], K = 1

è¾“å‡ºï¼š2

è§£é‡Šï¼šå…ˆç¿»è½¬ A[0]ï¼Œç„¶åç¿»è½¬ A[2]ã€‚
```
ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥ï¼šA = [1,1,0], K = 2

è¾“å‡ºï¼š-1

è§£é‡Šï¼šæ— è®ºæˆ‘ä»¬æ€æ ·ç¿»è½¬å¤§å°ä¸º 2 çš„å­æ•°ç»„ï¼Œæˆ‘ä»¬éƒ½ä¸èƒ½ä½¿æ•°ç»„å˜ä¸º [1,1,1]ã€‚
```
ç¤ºä¾‹ 3ï¼š
```
è¾“å…¥ï¼šA = [0,0,0,1,0,1,1,0], K = 3

è¾“å‡ºï¼š3

è§£é‡Šï¼š
ç¿»è½¬ A[0],A[1],A[2]:Â Aå˜æˆ [1,1,1,1,0,1,1,0]
ç¿»è½¬ A[4],A[5],A[6]:Â Aå˜æˆ [1,1,1,1,1,0,0,0]
ç¿»è½¬ A[5],A[6],A[7]:Â Aå˜æˆ [1,1,1,1,1,1,1,1]
```

æç¤ºï¼š
* $1 <= A.length <=Â 30000$
* $1 <= K <= A.length$

---

### è´ªå¿ƒè§£æ³•ï¼ˆTLEï¼‰

ç›®æ ‡æ˜¯å°†æ•°ç»„çš„æ¯ä¸€ä½éƒ½å˜ä¸º 1 ï¼Œå› æ­¤å¯¹äºæ¯ä¸€ä½ 0 éƒ½éœ€è¦ç¿»è½¬ã€‚

æˆ‘ä»¬å¯ä»¥ä»å‰å¾€åå¤„ç†ï¼Œé‡åˆ° 0 åˆ™å¯¹åé¢çš„ `k` ä½è¿›è¡Œç¿»è½¬ã€‚

è¿™æ ·æˆ‘ä»¬çš„ç®—æ³•å¤æ‚åº¦æ˜¯ $O(n \times k)$ çš„ï¼Œæ•°æ®èŒƒå›´æ˜¯ 3wï¼ˆæ•°é‡çº§ä¸º $10^4$ï¼‰ï¼Œæé™æ•°æ®ä¸‹å•ç§’çš„è¿ç®—é‡åœ¨ $10^8$ ä»¥ä¸Šï¼Œä¼šæœ‰è¶…æ—¶é£é™©ã€‚

Java ä»£ç ï¼š
```Java
class Solution {
    public int minKBitFlips(int[] nums, int k) {
        int n = nums.length, ans = 0;
        for (int i = 0; i < n; i++) {
            if (nums[i] == 0) {
                if (i + k > n) return -1;
                for (int j = i; j < i + k; j++) nums[j] ^= 1;
                ans++;
            }
        }
        return ans;
    }
}
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(n \times k)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

---

### è¡¥å……

è¯„è®ºæœ‰åŒå­¦æå‡ºäº†ä¸€äº›æœ‰ä»·å€¼çš„ç–‘é—®ï¼Œæˆ‘è§‰å¾—æŒºæœ‰ä»£è¡¨æ€§çš„ï¼Œå› æ­¤è¡¥å……åˆ°é¢˜è§£ï¼š

1. **ä¸ºä»€ä¹ˆè¿™æ ·çš„è§£æ³•æ˜¯ã€Œè´ªå¿ƒè§£æ³•ã€ï¼Œè€Œä¸æ˜¯ã€Œæš´åŠ›è§£æ³•ã€ï¼Ÿ**

é¦–å…ˆã€Œæš´åŠ›è§£æ³•ã€å¿…ç„¶æ˜¯**å¯¹æ‰€æœ‰å¯èƒ½å‡ºç°çš„ç¿»è½¬æ–¹æ¡ˆè¿›è¡Œæšä¸¾**ï¼Œç„¶åæ£€æŸ¥æ¯ä¸€ä¸ªæ–¹æ¡ˆå¾—åˆ°çš„ç»“æœæ˜¯å¦ç¬¦åˆå…¨æ˜¯ 1 çš„è¦æ±‚ã€‚

è¿™æ ·çš„è§£æ³•ï¼Œæ‰æ˜¯æš´åŠ›è§£æ³•ï¼Œå®ƒçš„æœ¬è´¨æ˜¯é€šè¿‡ã€Œç©·ä¸¾ã€æ‰¾ç­”æ¡ˆã€‚å¤æ‚åº¦æ˜¯æŒ‡æ•°çº§åˆ«çš„ã€‚

è€Œæˆ‘ä»¬çš„ã€Œæœ´ç´ è´ªå¿ƒè§£æ³•ã€åªæ˜¯æ‰§è¡Œäº†ä¼—å¤šç¿»è½¬æ–¹æ¡ˆä¸­çš„ä¸€ç§ã€‚

ä¸¾ä¸ª ğŸŒ°ï¼Œå¯¹äº `nums = [0,0,1,1]` å¹¶ä¸” `k = 2` çš„æ•°æ®ï¼š

æš´åŠ›è§£æ³•åº”è¯¥æ˜¯ã€Œæšä¸¾ã€ä»¥ä¸‹ä¸‰ç§æ–¹æ¡ˆï¼š

1. åªç¿»è½¬ä»¥ç¬¬ä¸€ä¸ª 0 å¼€å¤´çš„å­æ•°ç»„ï¼ˆé•¿åº¦å›ºå®šä¸º 2ï¼‰
2. åªç¿»è½¬ä»¥ç¬¬äºŒä¸ª 0 å¼€å¤´çš„å­æ•°ç»„ï¼ˆé•¿åº¦å›ºå®šä¸º 2ï¼‰
3. åŒæ—¶ç¿»è½¬ç¬¬ä¸€ä¸ª 0 å¼€å¤´å’Œç¬¬äºŒä¸ª 0 å¼€å¤´çš„å­æ•°ç»„ï¼ˆé•¿åº¦å›ºå®šä¸º 2ï¼Œåªä¸è¿‡è¿™æ—¶å€™ç¬¬ä¸€ä¸ª 0 è¢«ç¿»è½¬äº†ä¸€æ¬¡ï¼Œç¬¬äºŒä¸ª 0 è¢«ç¿»è½¬äº†ä¸¤æ¬¡ï¼‰

ç„¶åå¯¹ä¸‰ç§æ–¹æ¡ˆå¾—åˆ°çš„æœ€ç»ˆè§£è¿›è¡Œæ£€æŸ¥ï¼Œæ‰¾å‡ºç¬¦åˆç»“æœå…¨æ˜¯ 1 çš„æ–¹æ¡ˆã€‚è¿™ç§é€šè¿‡ã€Œç©·ä¸¾ã€æ–¹æ¡ˆæ£€æŸ¥åˆæ³•æ€§çš„è§£æ³•æ‰æ˜¯ã€Œæš´åŠ›ã€è§£æ³•ã€‚

2. **ä¸ºä»€ä¹ˆæˆ‘é‡‡ç”¨äº†ä¸ã€Œæœ´ç´ è´ªå¿ƒã€è§£æ³•ç›¸ä¼¼çš„åšæ³•ï¼Œè¶…æ—¶äº†ï¼Ÿ**

ç»“æœæµ‹è¯• C++ã€Python è¶…æ—¶ï¼Œåªæœ‰ Java èƒ½è¿‡ã€‚

åŒæ ·æ˜¯ 97 å·æ ·ä¾‹æ•°æ®ï¼Œæäº¤ç»™ LeetCode æ‰§è¡Œã€‚Java è¿è¡Œ 200 ms ä»¥å†…ï¼Œè€Œ C++ è¿è¡Œ 600 msã€‚

---

### è´ªå¿ƒ + å·®åˆ†è§£æ³•

ç”±äºæˆ‘ä»¬æ€»æ˜¯å¯¹è¿ç»­çš„ä¸€æ®µè¿›è¡Œã€Œç›¸åŒã€çš„æ“ä½œï¼ŒåŒæ—¶åªæœ‰ã€Œå¥‡æ•°ã€æ¬¡æ•°çš„ç¿»è½¬æ‰ä¼šçœŸæ­£æ”¹å˜å½“å‰ä½ç½®ä¸Šçš„å€¼ã€‚

è‡ªç„¶è€Œç„¶ï¼Œæˆ‘ä»¬ä¼šæƒ³åˆ°ä½¿ç”¨æ•°ç»„ `arr` æ¥è®°å½•æ¯ä¸€ä½çš„ç¿»è½¬æ¬¡æ•°ã€‚

åŒæ—¶æˆ‘ä»¬åˆä¸å¸Œæœ›æ˜¯é€šè¿‡ã€Œéå†è®° `arr` çš„ `k` ä½è¿›è¡Œ +1ã€æ¥å®Œæˆç»Ÿè®¡ã€‚

å› æ­¤å¯ä»¥ä½¿ç”¨å·®åˆ†æ•°ç»„æ¥è¿›è¡Œä¼˜åŒ–ï¼šå½“éœ€è¦å¯¹æŸä¸€æ®µ `[l,r]` è¿›è¡Œ +1 çš„æ—¶å€™ï¼Œåªéœ€è¦ `arr[l]++` å’Œ `arr[r + 1]--` å³å¯ã€‚

Java ä»£ç ï¼š
```Java
class Solution {
    public int minKBitFlips(int[] nums, int k) {
        int n = nums.length, ans = 0;
        int[] arr = new int[n + 1];
        for (int i = 0, cnt = 0; i < n; i++) {
            cnt += arr[i];
            if ((nums[i] + cnt) % 2 == 0) {
                if (i + k > n) return -1;
                arr[i + 1]++; arr[i + k]--; ans++;
            }
        }
        return ans;
    }
}
```
C++ ä»£ç ï¼š
```C++
class Solution {
public:
    int minKBitFlips(vector<int>& nums, int k) {
        int n = nums.size(), ans = 0;
        vector<int> arr(n + 1, 0);
        for (int i = 0, cnt = 0; i < n; i++) {
            cnt += arr[i];
            if ((nums[i] + cnt) % 2 == 0) {
                if (i + k > n) return -1;
                arr[i + 1]++; arr[i + k]--; ans++;
            }
        }
        return ans;
    }
};
```
Python ä»£ç ï¼š
```Python
class Solution:
    def minKBitFlips(self, nums: List[int], k: int) -> int:
        n, ans = len(nums), 0
        arr = [0] * (n + 1)
        cnt = 0
        for i in range(n):
            cnt += arr[i]
            if (nums[i] + cnt) % 2 == 0:
                if i + k > n:
                    return -1
                arr[i + 1] += 1
                arr[i + k] -= 1
                ans += 1
        return ans
```
TypeScript ä»£ç ï¼š
```TypeScript
function minKBitFlips(nums: number[], k: number): number {
    let n = nums.length, ans = 0;
    let arr = new Array(n + 1).fill(0);
    for (let i = 0, cnt = 0; i < n; i++) {
        cnt += arr[i];
        if ((nums[i] + cnt) % 2 === 0) {
            if (i + k > n) return -1;
            arr[i + 1]++; arr[i + k]--; ans++;
        }
    }
    return ans;  
};
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$

---

### è¯æ˜

ä¸ºä»€ä¹ˆã€Œä¸€é‡åˆ° 0 å°±é©¬ä¸Šè¿›è¡Œç¿»è½¬ã€è¿™æ ·çš„åšæ³•å¾—åˆ°çš„æ˜¯æœ€ä¼˜è§£ï¼Ÿ

è¿™é“é¢˜çš„è´ªå¿ƒè¯æ˜æ€è·¯å’Œ [765. æƒ…ä¾£ç‰µæ‰‹](https://leetcode-cn.com/problems/couples-holding-hands/solution/liang-chong-100-de-jie-fa-bing-cha-ji-ta-26a6/) æ˜¯ä¸€æ ·çš„ã€‚

æœ¬è´¨ä¸Šæ˜¯åœ¨è¯æ˜**å½“æˆ‘åœ¨å¤„ç†ç¬¬ `k` ä¸ªä½ç½®çš„ 0 çš„æ—¶å€™ï¼Œå‰é¢ `k - 1` ä¸ªä½ç½®ä¸å­˜åœ¨ 0ï¼Œæ¥ä¸‹æ¥è¦å¦‚ä½•è¿›è¡Œæ“ä½œï¼Œå¯ä½¿å¾—æ€»çš„ç¿»è½¬æ¬¡æ•°æœ€å°ã€‚**

å¦‚æœä½ ä¸Šæ¬¡çœŸæ­£ç†è§£äº†æˆ‘çš„è¯æ˜è¿‡ç¨‹çš„è¯ï¼Œé‚£ä¹ˆä½ ä¼šå¾ˆå®¹æ˜“å°±èƒ½è¯æ˜å‡ºæœ¬é¢˜çš„è´ªå¿ƒæ€è·¯ã€‚

æ‰€ä»¥è¿™æ¬¡å°†è¿™ä¸ªè¯æ˜è¿‡ç¨‹ç•™ç»™å¤§å®¶æ€è€ƒ ~ 

---

### ä¸ºä»€ä¹ˆè¦ã€Œè¯æ˜ã€æˆ–ã€Œç†è§£è¯æ˜ã€ï¼Ÿ

è¯æ˜çš„æ„ä¹‰åœ¨äºï¼Œ**ä½ çŸ¥é“ä¸ºä»€ä¹ˆè¿™æ ·åšæ˜¯å¯¹çš„**ã€‚

å¸¦æ¥çš„å¥½å¤„æ˜¯ï¼š

1. ä¸€é“ã€Œè´ªå¿ƒã€é¢˜ç›®èƒ½ææ¸…æ¥šè¯æ˜ï¼Œé‚£ä¹ˆåŒç±»çš„ã€Œè´ªå¿ƒã€é¢˜ç›®ä½ å°±éƒ½ä¼šåšäº†ã€‚**å¦åˆ™å°±ä¼šåœç•™åœ¨â€œæˆ‘çŸ¥é“è¿™é“é¢˜å¯ä»¥è¿™æ ·è´ªå¿ƒï¼Œåˆ«çš„é¢˜æˆ‘ä¸ç¡®å®šæ˜¯å¦ä¹Ÿèƒ½è¿™æ ·åšâ€**ã€‚

2. åœ¨ã€Œé¢è¯•ã€é˜¶æ®µï¼Œ**ä½ å¯ä»¥å¾ˆæ¸…æ™°è®²è§£ä½ çš„æ€è·¯**ã€‚è®©é¢è¯•å®˜ä»ä½ çš„ã€Œæ€ç»´æ–¹å¼ã€ä¸Šå–œæ¬¢ä¸Šä½ 

---

### æ›´å¤šä¸è¯æ˜/åˆ†æç›¸å…³çš„é¢˜è§£ï¼š

[561. æ•°ç»„æ‹†åˆ† I](https://leetcode-cn.com/problems/array-partition-i/) : [åè¯æ³•è¯æ˜è´ªå¿ƒç®—æ³•çš„æ­£ç¡®æ€§](https://leetcode-cn.com/problems/array-partition-i/solution/jue-dui-neng-kan-dong-de-zheng-ming-fan-f7trz/)

[765. æƒ…ä¾£ç‰µæ‰‹](https://leetcode-cn.com/problems/couples-holding-hands/) : [ä¸ºä»€ä¹ˆäº¤æ¢ä»»æ„ä¸€ä¸ªéƒ½æ˜¯å¯¹çš„ï¼Ÿï¼šä¸¤ç§ 100% çš„è§£æ³•ï¼šå¹¶æŸ¥é›† & è´ªå¿ƒ](https://leetcode-cn.com/problems/couples-holding-hands/solution/liang-chong-100-de-jie-fa-bing-cha-ji-ta-26a6/)

[1579. ä¿è¯å›¾å¯å®Œå…¨éå†](https://leetcode-cn.com/problems/remove-max-number-of-edges-to-keep-graph-fully-traversable/) : [ä¸ºä»€ä¹ˆå…ˆå¤„ç†å…¬å…±è¾¹æ˜¯å¯¹çš„ï¼Ÿå«è´ªå¿ƒè¯æ˜ + æ•°ç»„æ¨¡æ¿ ~](https://leetcode-cn.com/problems/remove-max-number-of-edges-to-keep-graph-fully-traversable/solution/tan-xin-bing-cha-ji-shu-zu-shi-xian-jian-w7ko/)

[1631. æœ€å°ä½“åŠ›æ¶ˆè€—è·¯å¾„](https://leetcode-cn.com/problems/path-with-minimum-effort/) : [åè¯æ³•è¯æ˜æ€è·¯çš„åˆæ³•æ€§](https://leetcode-cn.com/problems/path-with-minimum-effort/solution/fan-zheng-fa-zheng-ming-si-lu-de-he-fa-x-ohby/)

[11. ç››æœ€å¤šæ°´çš„å®¹å™¨](https://leetcode-cn.com/problems/container-with-most-water/) : [åŒæŒ‡é’ˆ+è´ªå¿ƒè§£æ³•ã€å«è¯æ˜ã€‘](https://leetcode-cn.com/problems/container-with-most-water/solution/shua-chuan-lc-shuang-zhi-zhen-tan-xin-ji-52gf/)

---

### æœ€å

è¿™æ˜¯æˆ‘ä»¬ã€Œåˆ·ç©¿ LeetCodeã€ç³»åˆ—æ–‡ç« çš„ç¬¬ `No.995` ç¯‡ï¼Œç³»åˆ—å¼€å§‹äº 2021/01/01ï¼Œæˆªæ­¢äºèµ·å§‹æ—¥ LeetCode ä¸Šå…±æœ‰ 1916 é“é¢˜ç›®ï¼Œéƒ¨åˆ†æ˜¯æœ‰é”é¢˜ï¼Œæˆ‘ä»¬å°†å…ˆæŠŠæ‰€æœ‰ä¸å¸¦é”çš„é¢˜ç›®åˆ·å®Œã€‚

åœ¨è¿™ä¸ªç³»åˆ—æ–‡ç« é‡Œé¢ï¼Œé™¤äº†è®²è§£è§£é¢˜æ€è·¯ä»¥å¤–ï¼Œè¿˜ä¼šå°½å¯èƒ½ç»™å‡ºæœ€ä¸ºç®€æ´çš„ä»£ç ã€‚å¦‚æœæ¶‰åŠé€šè§£è¿˜ä¼šç›¸åº”çš„ä»£ç æ¨¡æ¿ã€‚

ä¸ºäº†æ–¹ä¾¿å„ä½åŒå­¦èƒ½å¤Ÿç”µè„‘ä¸Šè¿›è¡Œè°ƒè¯•å’Œæäº¤ä»£ç ï¼Œæˆ‘å»ºç«‹äº†ç›¸å…³çš„ä»“åº“ï¼šhttps://github.com/SharingSource/LogicStack-LeetCode ã€‚

åœ¨ä»“åº“åœ°å€é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°ç³»åˆ—æ–‡ç« çš„é¢˜è§£é“¾æ¥ã€ç³»åˆ—æ–‡ç« çš„ç›¸åº”ä»£ç ã€LeetCode åŸé¢˜é“¾æ¥å’Œå…¶ä»–ä¼˜é€‰é¢˜è§£ã€‚

