### é¢˜ç›®æè¿°

è¿™æ˜¯ LeetCode ä¸Šçš„ **[26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/solution/shua-chuan-lc-jian-ji-shuang-zhi-zhen-ji-2eg8/)** ï¼Œéš¾åº¦ä¸º **ç®€å•**ã€‚

Tag : ã€Œæ•°ç»„ã€ã€ã€ŒåŒæŒ‡é’ˆã€ã€ã€Œæ•°ç»„ç§»é™¤å…ƒç´ é—®é¢˜ã€



ç»™ä½ ä¸€ä¸ªæœ‰åºæ•°ç»„ `nums` ï¼Œè¯·ä½ åŸåœ°åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„å¹¶åœ¨ä½¿ç”¨ $O(1)$ é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚

è¯´æ˜ï¼š

ä¸ºä»€ä¹ˆè¿”å›æ•°å€¼æ˜¯æ•´æ•°ï¼Œä½†è¾“å‡ºçš„ç­”æ¡ˆæ˜¯æ•°ç»„å‘¢?

è¯·æ³¨æ„ï¼Œè¾“å…¥æ•°ç»„æ˜¯ä»¥ã€Œå¼•ç”¨ã€æ–¹å¼ä¼ é€’çš„ï¼Œè¿™æ„å‘³ç€åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚

ä½ å¯ä»¥æƒ³è±¡å†…éƒ¨æ“ä½œå¦‚ä¸‹:
```
// nums æ˜¯ä»¥â€œå¼•ç”¨â€æ–¹å¼ä¼ é€’çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯¹å®å‚åšä»»ä½•æ‹·è´
int len = removeDuplicates(nums);

// åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚
// æ ¹æ®ä½ çš„å‡½æ•°è¿”å›çš„é•¿åº¦, å®ƒä¼šæ‰“å°å‡ºæ•°ç»„ä¸­ è¯¥é•¿åº¦èŒƒå›´å†… çš„æ‰€æœ‰å…ƒç´ ã€‚
for (int i = 0; i < len; i++) {
    print(nums[i]);
}
```

ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥ï¼šnums = [1,1,2]

è¾“å‡ºï¼š2, nums = [1,2]

è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2 ï¼Œå¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2 ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```
ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥ï¼šnums = [0,0,1,1,1,2,2,3,3,4]

è¾“å‡ºï¼š5, nums = [0,1,2,3,4]

è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5 ï¼Œ å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 1, 2, 3, 4 ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```

æç¤ºï¼š
* $0 <= nums.length <= 3 \times 10^4$
* $-10^4 <= nums[i] <= 10^4$
* `nums` å·²æŒ‰å‡åºæ’åˆ—

---

### åŒæŒ‡é’ˆ

ä¸€ä¸ªæŒ‡é’ˆ `i` è¿›è¡Œæ•°ç»„éå†ï¼Œå¦å¤–ä¸€ä¸ªæŒ‡é’ˆ `j` æŒ‡å‘æœ‰æ•ˆæ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚

åªæœ‰å½“ `i` æ‰€æŒ‡å‘çš„å€¼å’Œ `j` ä¸ä¸€è‡´ï¼ˆä¸é‡å¤ï¼‰ï¼Œæ‰å°† `i` çš„å€¼æ·»åŠ åˆ° `j` çš„ä¸‹ä¸€ä½ç½®ã€‚

Java ä»£ç ï¼š
```Java
class Solution {
    public int removeDuplicates(int[] nums) {
        int n = nums.length, j = 0;
        for (int i = 0; i < n; i++) {
            if (nums[i] != nums[j]) nums[++j] = nums[i];
        }
        return j + 1;
    }
}
```
C++ ä»£ç ï¼š
```C++
class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        int n = nums.size(), j = 0;
        for (int i = 0; i < n; i++) {
            if (nums[i] != nums[j]) nums[++j] = nums[i];
        }
        return j + 1;
    }
};
```
Python ä»£ç ï¼š
```Python
class Solution:
    def removeDuplicates(self, nums: List[int]) -> int:
        n, j = len(nums), 0
        for i in range(n):
            if nums[i] != nums[j]:
                j += 1
                nums[j] = nums[i]
        return j + 1
```
TypeScript ä»£ç ï¼š
```TypeScript
function removeDuplicates(nums: number[]): number {
    let n: number = nums.length, j: number = 0;
    for (let i: number = 0; i < n; i++) {
        if (nums[i] !== nums[j]) nums[++j] = nums[i];
    }
    return j + 1;
};
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

---

### é€šç”¨è§£æ³•

ä¸ºäº†è®©è§£æ³•æ›´å…·æœ‰ä¸€èˆ¬æ€§ï¼Œæˆ‘ä»¬å°†åŸé—®é¢˜çš„ã€Œæœ€å¤šä¿ç•™ 1 ä½ã€ä¿®æ”¹ä¸ºã€Œæœ€å¤šä¿ç•™ k ä½ã€ã€‚

å¯¹äºæ­¤ç±»é—®é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥è¿›è¡Œå¦‚ä¸‹è€ƒè™‘ï¼š

* ç”±äºæ˜¯ä¿ç•™ `k` ä¸ªç›¸åŒæ•°å­—ï¼Œ**å¯¹äºå‰ `k` ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä¿ç•™ã€‚**
* å¯¹äºåé¢çš„ä»»æ„æ•°å­—ï¼Œèƒ½å¤Ÿä¿ç•™çš„å‰ææ˜¯ï¼š**ä¸å½“å‰å†™å…¥çš„ä½ç½®å‰é¢çš„ç¬¬ `k` ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œä¸ç›¸åŒåˆ™ä¿ç•™ã€‚**

ä¸¾ä¸ªğŸŒ°ï¼Œæˆ‘ä»¬ä»¤ `k=1`ï¼Œå‡è®¾æœ‰æ ·ä¾‹ï¼š`[3,3,3,3,4,4,4,5,5,5]`

0. è®¾å®šå˜é‡ `idx`ï¼ŒæŒ‡å‘å¾…æ’å…¥ä½ç½®ã€‚`idx` åˆå§‹å€¼ä¸º `0`ï¼Œç›®æ ‡æ•°ç»„ä¸º `[]`

1. é¦–å…ˆæˆ‘ä»¬å…ˆè®©ç¬¬ `1` ä½ç›´æ¥ä¿ç•™ï¼ˆæ€§è´¨ 1ï¼‰ã€‚`idx` å˜ä¸º `1`ï¼Œç›®æ ‡æ•°ç»„ä¸º `[3]`

2. ç»§ç»­å¾€åéå†ï¼Œèƒ½å¤Ÿä¿ç•™çš„å‰ææ˜¯ä¸ `idx` çš„å‰é¢ `1` ä½å…ƒç´ ä¸åŒï¼ˆæ€§è´¨ 2ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬ä¼šè·³è¿‡å‰©ä½™çš„ `3`ï¼Œå°†ç¬¬ä¸€ä¸ª `4` è¿½åŠ è¿›å»ã€‚`idx` å˜ä¸º `2`ï¼Œç›®æ ‡æ•°ç»„ä¸º `[3,4]`

3. ç»§ç»­è¿™ä¸ªè¿‡ç¨‹ï¼Œè·³è¿‡å‰©ä½™çš„ `4`ï¼Œå°†ç¬¬ä¸€ä¸ª `5` è¿½åŠ è¿›å»ã€‚`idx` å˜ä¸º `3`ï¼Œç›®æ ‡æ•°ç»„ä¸º `[3,4,5]`

4. å½“æ•´ä¸ªæ•°ç»„è¢«æ‰«æå®Œï¼Œæœ€ç»ˆæˆ‘ä»¬å¾—åˆ°äº†ç›®æ ‡æ•°ç»„ `[3,4,5]` å’Œ ç­”æ¡ˆ `idx` ä¸º `3`ã€‚

Java ä»£ç ï¼š
```Java
class Solution {
    public int removeDuplicates(int[] nums) {   
        return process(nums, 1);
    }
    int process(int[] nums, int k) {
        int idx = 0; 
        for (int x : nums) {
            if (idx < k || nums[idx - k] != x) nums[idx++] = x;
        }
        return idx;
    }
}
```
C++ ä»£ç ï¼š
```C++
class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        return process(nums, 1);
    }
    int process(vector<int>& nums, int k) {
        int idx = 0;
        for (int x : nums) {
            if (idx < k || nums[idx - k] != x) nums[idx++] = x;
        }
        return idx;
    }
};
```
Python ä»£ç ï¼š
```Python
class Solution:
    def removeDuplicates(self, nums):
        return self.process(nums, 1)

    def process(self, nums, k):
        idx = 0
        for x in nums:
            if idx < k or nums[idx - k] != x:
                nums[idx] = x
                idx += 1
        return idx
```
TypeScript ä»£ç ï¼š
```TypeScript
function process(nums: number[], k: number): number {
    let idx: number = 0;
    nums.forEach((x) => {
        if (idx < k || nums[idx - k] !== x) nums[idx++] = x;
    });
    return idx;
}

function removeDuplicates(nums: number[]): number {
    return process(nums, 1)
};
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

åŸºäºä¸Šè¿°è§£æ³•æˆ‘ä»¬è¿˜èƒ½åšä¸€ç‚¹å°å‰ªæï¼š**åˆ©ç”¨ç›®æ ‡æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ å¿…ç„¶ä¸åŸæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ç›¸åŒè¿›è¡Œå‰ªæï¼Œä»è€Œç¡®ä¿å½“æ•°ç»„æœ‰è¶…è¿‡ `k` ä¸ªæœ€å¤§å€¼æ—¶ï¼Œæ•°ç»„ä¸ä¼šè¢«å®Œæ•´æ‰«æã€‚**

**ä½†éœ€è¦æ³¨æ„è¿™ç§ã€Œå‰ªæã€åŒæ—¶ä¼šè®©æˆ‘ä»¬å•æ¬¡å¾ªç¯çš„å¸¸æ•°å˜å¤§ï¼Œæ‰€ä»¥ä»…ä½œä¸ºç®€å•æ‹“å±•ã€‚**

Java ä»£ç ï¼š 
```Java
class Solution {
    public int removeDuplicates(int[] nums) {
        int n = nums.length;
        if (n <= 1) return n;   
        return process(nums, 1, nums[n - 1]);
    }
    int process(int[] nums, int k, int max) {
        int idx = 0; 
        for (int x : nums) {
            if (idx < k || nums[idx - k] != x) nums[idx++] = x;
            if (idx - k >= 0 && nums[idx - k] == max) break;
        }
        return idx;
    }
}
```
C++ ä»£ç ï¼š
```C++
class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        int n = nums.size();
        if (n <= 1) return n;
        return process(nums, 1, nums[n - 1]);
    }
    int process(vector<int>& nums, int k, int max) {
        int idx = 0;
        for (int x : nums) {
            if (idx < k || nums[idx - k] != x) nums[idx++] = x;
            if (idx - k >= 0 && nums[idx - k] == max) break;
        }
        return idx;
    }
};
```
Python ä»£ç ï¼š
```Python
class Solution:
    def removeDuplicates(self, nums):
        n = len(nums)
        if n <= 1: return n
        return self.process(nums, 1, nums[-1])

    def process(self, nums, k, max_val):
        idx = 0
        for x in nums:
            if idx < k or nums[idx - k] != x:
                nums[idx] = x
                idx += 1
            if idx - k >= 0 and nums[idx - k] == max_val:
                break
        return idx
```
TypeScript ä»£ç ï¼š
```TypeScript
function process(nums: number[], k: number, max: number): number {
    let idx: number = 0;
    for (const x of nums) {
        if (idx < k || nums[idx - k] !== x) nums[idx++] = x;
        if (idx - k >= 0 && nums[idx - k] === max) break;
    }
    return idx;
}
function removeDuplicates(nums: number[]): number {
    const n: number = nums.length;
    if (n <= 1) return n;
    return process(nums, 1, nums[n - 1]);
};
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$

---

### æœ€å

è¿™æ˜¯æˆ‘ä»¬ã€Œåˆ·ç©¿ LeetCodeã€ç³»åˆ—æ–‡ç« çš„ç¬¬ `No.26` ç¯‡ï¼Œç³»åˆ—å¼€å§‹äº 2021/01/01ï¼Œæˆªæ­¢äºèµ·å§‹æ—¥ LeetCode ä¸Šå…±æœ‰ 1916 é“é¢˜ç›®ï¼Œéƒ¨åˆ†æ˜¯æœ‰é”é¢˜ï¼Œæˆ‘ä»¬å°†å…ˆæŠŠæ‰€æœ‰ä¸å¸¦é”çš„é¢˜ç›®åˆ·å®Œã€‚

åœ¨è¿™ä¸ªç³»åˆ—æ–‡ç« é‡Œé¢ï¼Œé™¤äº†è®²è§£è§£é¢˜æ€è·¯ä»¥å¤–ï¼Œè¿˜ä¼šå°½å¯èƒ½ç»™å‡ºæœ€ä¸ºç®€æ´çš„ä»£ç ã€‚å¦‚æœæ¶‰åŠé€šè§£è¿˜ä¼šç›¸åº”çš„ä»£ç æ¨¡æ¿ã€‚

ä¸ºäº†æ–¹ä¾¿å„ä½åŒå­¦èƒ½å¤Ÿç”µè„‘ä¸Šè¿›è¡Œè°ƒè¯•å’Œæäº¤ä»£ç ï¼Œæˆ‘å»ºç«‹äº†ç›¸å…³çš„ä»“åº“ï¼šhttps://github.com/SharingSource/LogicStack-LeetCode ã€‚

åœ¨ä»“åº“åœ°å€é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°ç³»åˆ—æ–‡ç« çš„é¢˜è§£é“¾æ¥ã€ç³»åˆ—æ–‡ç« çš„ç›¸åº”ä»£ç ã€LeetCode åŸé¢˜é“¾æ¥å’Œå…¶ä»–ä¼˜é€‰é¢˜è§£ã€‚

