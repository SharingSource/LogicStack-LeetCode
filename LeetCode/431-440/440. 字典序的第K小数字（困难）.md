### é¢˜ç›®æè¿°

è¿™æ˜¯ LeetCode ä¸Šçš„ **[440. å­—å…¸åºçš„ç¬¬Kå°æ•°å­—](https://leetcode-cn.com/problems/k-th-smallest-in-lexicographical-order/solution/by-ac_oier-m3zl/)** ï¼Œéš¾åº¦ä¸º **å›°éš¾**ã€‚

Tag : ã€Œæ•°å­¦ã€ã€ã€Œæ¨¡æ‹Ÿã€ã€ã€Œæ‰¾è§„å¾‹ã€ã€ã€Œè®¡æ•°ã€



ç»™å®šæ•´æ•°Â $n$Â å’ŒÂ $k$ï¼Œè¿”å›Â Â $[1, n]$Â ä¸­å­—å…¸åºç¬¬Â $k$Â å°çš„æ•°å­—ã€‚

ç¤ºä¾‹ 1:
```
è¾“å…¥: n = 13, k = 2

è¾“å‡º: 10

è§£é‡Š: å­—å…¸åºçš„æ’åˆ—æ˜¯ [1, 10, 11, 12, 13, 2, 3, 4, 5, 6, 7, 8, 9]ï¼Œæ‰€ä»¥ç¬¬äºŒå°çš„æ•°å­—æ˜¯ 10ã€‚
```
ç¤ºä¾‹ 2:
```
è¾“å…¥: n = 1, k = 1

è¾“å‡º: 1
```

æç¤º:
* $1 <= k <= n <= 10^9$

---

### è®¡æ•°æ¨¡æ‹Ÿ

å¯»æ‰¾å­—å…¸åºç¬¬ $k$ å°çš„æ•°ã€‚

æˆ‘ä»¬å¯ä»¥å°†è¯¥è¿‡ç¨‹åˆ†ä¸¤æ­¥æ“ä½œ :ã€Œç¡®å®šå‰ç¼€ã€å’Œã€Œä»ä»¥æŸä¸ªå‰ç¼€å¼€å§‹æ‰¾ç›®æ ‡å€¼ã€ã€‚

å‡å®šæˆ‘ä»¬å­˜åœ¨æŸä¸ªå‡½æ•° `int getCnt(int x, int limit)`ï¼Œè¯¥å‡½æ•°å®ç°äº†ç»Ÿè®¡èŒƒå›´ $[1, limit]$ å†…ä»¥ $x$ ä¸ºå‰ç¼€çš„æ•°çš„ä¸ªæ•°ã€‚

æœ‰äº†è¯¥å‡½æ•°ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä»æœ€å°çš„å‰ç¼€ $1$ å¼€å§‹æšä¸¾ï¼Œå‡è®¾å½“å‰æšä¸¾åˆ°å‰ç¼€ $x$ï¼Œæ ¹æ® $cnt = getCnt(x, n)$ ä¸ $k$ çš„å¤§å°å…³ç³»è¿›è¡Œåˆ†æƒ…å†µè®¨è®ºï¼š

* $cnt < k$ï¼šè¯´æ˜æ‰€æœ‰ä»¥ $x$ ä¸ºå‰ç¼€çš„æ•°ç»„å‡å¯è·³è¿‡ï¼Œæ­¤æ—¶è®© $x$ è‡ªå¢ï¼Œ$k$ å‡å» $cnt$ã€‚å«ä¹‰ä¸ºä»ä¸‹ä¸€ä¸ªã€Œæ•°å€¼æ¯” $x$ å¤§ã€çš„å‰ç¼€ä¸­æ‰¾ç›®æ ‡å€¼ï¼›
* $cnt \geqslant k$ï¼šè¯´æ˜ç›®æ ‡å€¼å‰ç¼€å¿…ç„¶ä¸º $x$ï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦åœ¨ä»¥ $x$ ä¸ºå‰ç¼€çš„å‰æä¸‹æ‰¾ç›®æ ‡å€¼ã€‚æ­¤æ—¶è®© $x$ ä¹˜ $10$ï¼Œ$k$ å‡ $1$ï¼ˆä»£è¡¨è·³è¿‡äº† $x$ æœ¬èº«ï¼‰ã€‚å«ä¹‰ä¸ºä»ä¸‹ä¸€ä¸ªã€Œå­—å…¸åºæ¯” $x$ å¤§ã€çš„å‰ç¼€ä¸­æ‰¾ç›®æ ‡å€¼ã€‚

å½“ $k = 1$ æ—¶ï¼Œå½“å‰å‰ç¼€ $x$ å³æ˜¯ç­”æ¡ˆï¼ˆå«ä¹‰ä¸ºä»¥ $x$ ä¸ºå‰ç¼€çš„æ‰€æœ‰æ•°ä¸­ï¼Œæœ€å°çš„æ•°ï¼Œä¹Ÿå°±æ˜¯ $x$ æœ¬èº«ï¼‰ã€‚

ç„¶åé‡ç‚¹çœ‹çœ‹ `int getCnt(int x, int limit)` å‡½æ•°å¦‚ä½•å®ç°ã€‚

ä¸ºäº†æ–¹ä¾¿ï¼Œè®° $x$ çš„ä½æ•°ä¸º $n$ï¼Œ$limit$ ä½æ•°ä¸º $m$ã€‚

æ ¹æ® `getCnt` çš„å‡½æ•°å®šä¹‰ï¼Œåœ¨èŒƒå›´ $[1, limit]$ å†…ï¼Œä»¥ $x$ ä¸ºå‰ç¼€çš„æ•°å€¼æ•°é‡ç­‰äºä¸‹é¢æ‰€æœ‰æƒ…å†µçš„æ•°é‡ä¹‹å’Œï¼š

* ä½æ•°ä¸º $n$ çš„æ•°ï¼šä»…æœ‰ $x$ æœ¬èº«ï¼Œå…± $1$ ä¸ªï¼›
* ä½æ•°ä¸º $n + 1 < m$ çš„æ•°ï¼Œæœ‰ `x0` åˆ° `x9`ï¼Œå…± $10$ ä¸ªï¼›
* ä½æ•°ä¸º $n + 2 < m$ çš„æ•°ï¼Œæœ‰ `x00` åˆ° `x99`ï¼Œå…± $100$ ä¸ªï¼›
* ...
* ä½æ•°ä¸º $m$ çš„æ•°ï¼Œæ­¤æ—¶æ ¹æ®ã€Œ$limit$ é•¿åº¦ä¸ $x$ ç­‰åŒçš„å‰ç¼€ $u$ã€å’Œã€Œ$x$ã€çš„å¤§å°å…³ç³»ï¼Œè¿›ä¸€æ­¥åˆ†æƒ…å†µè®¨è®ºï¼ˆä¸¾ä¸ª ğŸŒ°ï¼Œå½“ $limit = 12456$ï¼Œ$x$ ä¸º $123$ æ—¶ï¼Œ$u = 124$ï¼Œä¸¤è€…ä½æ•°ç›¸å·® $k = 2$ ä½ï¼‰ï¼š
    * $u < x$ï¼šæ­¤æ—¶æ‰€æœ‰ä½æ•°ä¸º $m$ çš„æ•°å‡å¤§äº $limit$ï¼Œåˆæ³•ä¸ªæ•°ä¸º $0$ï¼›
    * $u == x$ï¼šæ­¤æ—¶æ‰€æœ‰ä½æ•°ä¸º $m$ çš„æ•°ä¸­éƒ¨åˆ†æ»¡è¶³ $limit$ é™åˆ¶ï¼Œåˆæ³•ä¸ªæ•°ä¸º $limit - x * 10^k + 1$ ä¸ªï¼ˆåªæœ‰ $[x0...0, limit]$ ä¸ºåˆæ³•æ•°ï¼‰ï¼›
    * $u > x$ï¼šæ­¤æ—¶æ‰€æœ‰ä½æ•°ä¸º $m$ çš„æ•°å‡å°äº $limit$ï¼Œåˆæ³•ä¸ªæ•°ä¸º $10^k$ã€‚

Java ä»£ç ï¼š
```Java
class Solution {
    public int findKthNumber(int n, int k) {
        int ans = 1;
        while (k > 1) {
            int cnt = getCnt(ans, n);
            if (cnt < k) {
                k -= cnt; ans++;
            } else {
                k--; ans *= 10;
            }
        }
        return ans;
    }
    int getCnt(int x, int limit) {
        String a = String.valueOf(x), b = String.valueOf(limit);
        int n = a.length(), m = b.length(), k = m - n;
        int ans = 0, u = Integer.parseInt(b.substring(0, n));
        for (int i = 0; i < k; i++) ans += Math.pow(10, i);
        if (u > x) ans += Math.pow(10, k);
        else if (u == x) ans += limit - x * Math.pow(10, k) + 1;
        return ans;
    }
}
```
C++ ä»£ç ï¼š
```C++
class Solution {
public:
    int findKthNumber(int n, int k) {
        int ans = 1;
        while (k > 1) {
            int cnt = getCnt(ans, n);
            if (cnt < k) {
                k -= cnt; ans++;
            } else {
                k--; ans *= 10;
            }
        }
        return ans;
    }
    int getCnt(int x, int limit) {
        string a = to_string(x), b = to_string(limit);
        int n = a.length(), m = b.length(), k = m - n;
        int ans = 0, u = stoi(b.substr(0, n));
        for (int i = 0; i < k; i++) ans += pow(10, i);
        if (u > x) ans += pow(10, k);
        else if (u == x) ans += limit - x * pow(10, k) + 1;
        return ans;
    }
};
```
Python ä»£ç ï¼š
```Python
class Solution:
    def findKthNumber(self, n: int, k: int) -> int:
        def get_cnt(x, limit):
            a, b = str(x), str(limit)
            n, m = len(a), len(b)
            k = m - n
            ans = 0
            u = int(b[:n])
            for i in range(k):
                ans += int(pow(10, i))
            if u > x:
                ans += int(pow(10, k))
            elif u == x:
                ans += limit - x * int(pow(10, k)) + 1
            return ans

        ans = 1
        while k > 1:
            cnt = get_cnt(ans, n)
            if cnt < k:
                k, ans = k - cnt, ans + 1
            else:
                k, ans = k - 1, ans * 10
        return ans
```
TypeScript ä»£ç ï¼š
```TypeScript
function findKthNumber(n: number, k: number): number {
    const getCnt = function(x: number, limit: number): number {
        const a = String(x), b = String(limit);
        const n = a.length, m = b.length, k = m - n;
        let ans = 0;
        let u = parseInt(b.substring(0, n));
        for (let i = 0; i < k; i++) ans += Math.pow(10, i);
        if (u > x) ans += Math.pow(10, k);
        else if (u == x) ans += limit - x * Math.pow(10, k) + 1;
        return ans;
    };
    let ans = 1;
    while (k > 1) {
        let cnt = getCnt(ans, n);
        if (cnt < k) {
            k -= cnt; ans++;
        } else {
            k--; ans *= 10;
        }
    }
    return ans;
};
```
* æ—¶é—´å¤æ‚åº¦ï¼šæšä¸¾å‰ç¼€ä»¥åŠ `getCnt` æ“ä½œå‡ä¸ä½æ•°ç›¸å…³ï¼Œå¤æ‚åº¦å‡ä¸º $O(\log{n})$ã€‚æ•´ä½“å¤æ‚åº¦ä¸º $O(\log{^2}{n})$
* ç©ºé—´å¤æ‚åº¦ï¼šå¿½ç•¥å­ä¸²ç”Ÿæˆå¤æ‚åº¦ä¸º $O(1)$ï¼Œå¦åˆ™ä¸º $O(\log{^2}{n})$

---

### æœ€å

è¿™æ˜¯æˆ‘ä»¬ã€Œåˆ·ç©¿ LeetCodeã€ç³»åˆ—æ–‡ç« çš„ç¬¬ `No.440` ç¯‡ï¼Œç³»åˆ—å¼€å§‹äº 2021/01/01ï¼Œæˆªæ­¢äºèµ·å§‹æ—¥ LeetCode ä¸Šå…±æœ‰ 1916 é“é¢˜ç›®ï¼Œéƒ¨åˆ†æ˜¯æœ‰é”é¢˜ï¼Œæˆ‘ä»¬å°†å…ˆæŠŠæ‰€æœ‰ä¸å¸¦é”çš„é¢˜ç›®åˆ·å®Œã€‚

åœ¨è¿™ä¸ªç³»åˆ—æ–‡ç« é‡Œé¢ï¼Œé™¤äº†è®²è§£è§£é¢˜æ€è·¯ä»¥å¤–ï¼Œè¿˜ä¼šå°½å¯èƒ½ç»™å‡ºæœ€ä¸ºç®€æ´çš„ä»£ç ã€‚å¦‚æœæ¶‰åŠé€šè§£è¿˜ä¼šç›¸åº”çš„ä»£ç æ¨¡æ¿ã€‚

ä¸ºäº†æ–¹ä¾¿å„ä½åŒå­¦èƒ½å¤Ÿç”µè„‘ä¸Šè¿›è¡Œè°ƒè¯•å’Œæäº¤ä»£ç ï¼Œæˆ‘å»ºç«‹äº†ç›¸å…³çš„ä»“åº“ï¼šhttps://github.com/SharingSource/LogicStack-LeetCode ã€‚

åœ¨ä»“åº“åœ°å€é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°ç³»åˆ—æ–‡ç« çš„é¢˜è§£é“¾æ¥ã€ç³»åˆ—æ–‡ç« çš„ç›¸åº”ä»£ç ã€LeetCode åŸé¢˜é“¾æ¥å’Œå…¶ä»–ä¼˜é€‰é¢˜è§£ã€‚

