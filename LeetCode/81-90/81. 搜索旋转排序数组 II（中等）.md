### é¢˜ç›®æè¿°

è¿™æ˜¯ LeetCode ä¸Šçš„ **[81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II](https://leetcode-cn.com/problems/search-in-rotated-sorted-array-ii/solution/gong-shui-san-xie-xiang-jie-wei-he-yuan-xtam4/)** ï¼Œéš¾åº¦ä¸º **ä¸­ç­‰**ã€‚

Tag : ã€ŒäºŒåˆ†ã€



å·²çŸ¥å­˜åœ¨ä¸€ä¸ªæŒ‰éé™åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­çš„å€¼ä¸å¿…äº’ä¸ç›¸åŒã€‚

åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œnums åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ kï¼ˆ0 <= k < nums.lengthï¼‰ä¸Šè¿›è¡Œäº† æ—‹è½¬ ï¼Œä½¿æ•°ç»„å˜ä¸º [nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]ï¼ˆä¸‹æ ‡ ä» 0 å¼€å§‹ è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ [0,1,2,4,4,4,5,6,6,7] åœ¨ä¸‹æ ‡ 5 å¤„ç»æ—‹è½¬åå¯èƒ½å˜ä¸º [4,5,6,6,7,0,1,2,4,4] ã€‚

ç»™ä½  æ—‹è½¬å çš„æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° target ï¼Œè¯·ä½ ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ç»™å®šçš„ç›®æ ‡å€¼æ˜¯å¦å­˜åœ¨äºæ•°ç»„ä¸­ã€‚å¦‚æœ nums ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ target ï¼Œåˆ™è¿”å› true ï¼Œå¦åˆ™è¿”å› false ã€‚

Â 

ç¤ºä¾‹Â 1ï¼š
```
è¾“å…¥ï¼šnums = [2,5,6,0,0,1,2], target = 0

è¾“å‡ºï¼štrue
```
ç¤ºä¾‹Â 2ï¼š
```
è¾“å…¥ï¼šnums = [2,5,6,0,0,1,2], target = 3

è¾“å‡ºï¼šfalse
```

æç¤ºï¼š
* 1 <= nums.length <= 5000
* -$10^4$ <= nums[i] <= $10^4$
* é¢˜ç›®æ•°æ®ä¿è¯ nums åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ä¸Šè¿›è¡Œäº†æ—‹è½¬
* -$10^4$ <= target <= $10^4$

---

### äºŒåˆ†

æ ¹æ®é¢˜æ„ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œæ‰€è°“çš„æ—‹è½¬å…¶å®å°±æ˜¯ã€Œå°†æŸä¸ªä¸‹æ ‡å‰é¢çš„æ‰€æœ‰æ•°æ•´ä½“ç§»åˆ°åé¢ï¼Œä½¿å¾—æ•°ç»„ä»æ•´ä½“æœ‰åºå˜ä¸ºåˆ†æ®µæœ‰åºã€ã€‚

ä½†å’Œ [33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](https://leetcode-cn.com/problems/search-in-rotated-sorted-array/solution/sou-suo-xuan-zhuan-pai-xu-shu-zu-by-leetcode-solut/) ä¸åŒçš„æ˜¯ï¼Œæœ¬é¢˜å…ƒç´ å¹¶ä¸å”¯ä¸€ã€‚

**è¿™æ„å‘³ç€æˆ‘ä»¬æ— æ³•ç›´æ¥æ ¹æ®ä¸** $nums[0]$ **çš„å¤§å°å…³ç³»ï¼Œå°†æ•°ç»„åˆ’åˆ†ä¸ºä¸¤æ®µï¼Œå³æ— æ³•é€šè¿‡ã€ŒäºŒåˆ†ã€æ¥æ‰¾åˆ°æ—‹è½¬ç‚¹ã€‚**

**å› ä¸ºã€ŒäºŒåˆ†ã€çš„æœ¬è´¨æ˜¯äºŒæ®µæ€§ï¼Œå¹¶éå•è°ƒæ€§ã€‚åªè¦ä¸€æ®µæ»¡è¶³æŸä¸ªæ€§è´¨ï¼Œå¦å¤–ä¸€æ®µä¸æ»¡è¶³æŸä¸ªæ€§è´¨ï¼Œå°±å¯ä»¥ç”¨ã€ŒäºŒåˆ†ã€ã€‚**

å¦‚æœä½ æœ‰çœ‹è¿‡æˆ‘ [ä¸¥æ ¼ O(logN)ï¼Œä¸€èµ·çœ‹æ¸…äºŒåˆ†çš„æœ¬è´¨](https://leetcode-cn.com/problems/search-in-rotated-sorted-array/solution/shua-chuan-lc-yan-ge-ologn100yi-qi-kan-q-xifo/) è¿™ç¯‡é¢˜è§£ï¼Œä½ åº”è¯¥å¾ˆå®¹æ˜“å°±ç†è§£ä¸Šå¥è¯çš„æ„æ€ã€‚å¦‚æœæ²¡æœ‰ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè§£å†³æœ¬é¢˜ï¼Œåœ¨ç†è§£åä½ å†å»åš [33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](https://leetcode-cn.com/problems/search-in-rotated-sorted-array/solution/sou-suo-xuan-zhuan-pai-xu-shu-zu-by-leetcode-solut/)ï¼Œæˆ‘è®¤ä¸ºè¿™ä¸¤é¢˜éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¸å­˜åœ¨å…ˆåå…³ç³»ã€‚

ä¸¾ä¸ªğŸŒ°ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•°æ® [0,1,2,2,2,3,4,5] æ¥ç†è§£ä¸ºä»€ä¹ˆä¸åŒçš„æ—‹è½¬ç‚¹ä¼šå¯¼è‡´ã€ŒäºŒæ®µæ€§ä¸¢å¤±ã€ï¼š

![image.png](https://pic.leetcode-cn.com/1617852745-LoBNPK-image.png)

ä»£ç ï¼š
```java []
class Solution {
    public boolean search(int[] nums, int t) {
        int n = nums.length;
        int l = 0, r = n - 1;
        // æ¢å¤äºŒæ®µæ€§
        while (l < r && nums[0] == nums[r]) r--;

        // ç¬¬ä¸€æ¬¡äºŒåˆ†ï¼Œæ‰¾æ—‹è½¬ç‚¹
        while (l < r) {
            int mid = l + r + 1 >> 1;
            if (nums[mid] >= nums[0]) {
                l = mid;
            } else {
                r = mid - 1;
            }
        }
        
        int idx = n;
        if (nums[r] >= nums[0] && r + 1 < n) idx = r + 1;

        // ç¬¬äºŒæ¬¡äºŒåˆ†ï¼Œæ‰¾ç›®æ ‡å€¼
        int ans = find(nums, 0, idx - 1, t);
        if (ans != -1) return true;
        ans = find(nums, idx, n - 1, t);
        return ans != -1;
    }
    int find(int[] nums, int l, int r, int t) {
        while (l < r) {
            int mid = l + r >> 1;
            if (nums[mid] >= t) {
                r = mid;
            } else {
                l = mid + 1;
            }
        }
        return nums[r] == t ? r : -1;
    }
}
```
* æ—¶é—´å¤æ‚åº¦ï¼šæ¢å¤äºŒæ®µæ€§å¤„ç†ä¸­ï¼Œæœ€åçš„æƒ…å†µä¸‹ï¼ˆè€ƒè™‘æ•´ä¸ªæ•°ç»„éƒ½æ˜¯åŒä¸€ä¸ªæ•°ï¼‰å¤æ‚åº¦æ˜¯ $O(n)$ï¼Œè€Œä¹‹åçš„æ‰¾æ—‹è½¬ç‚¹å’Œç›®æ ‡å€¼éƒ½æ˜¯ã€ŒäºŒåˆ†ã€ï¼Œå¤æ‚åº¦ä¸º $O(log{n})$ã€‚æ•´ä½“å¤æ‚åº¦ä¸º $O(n)$ çš„ã€‚
* ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚

***

### è¿›é˜¶

å¦‚æœçœŸæ­£ç†è§£ã€ŒäºŒåˆ†ã€çš„è¯ï¼Œæœ¬é¢˜å’Œ [33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](https://leetcode-cn.com/problems/search-in-rotated-sorted-array/solution/sou-suo-xuan-zhuan-pai-xu-shu-zu-by-leetcode-solut/) åŒºåˆ«ä¸å¤§ã€‚

å»ºè®®å¤§å®¶åœ¨å®Œæˆä¸¤é¢˜çš„åŸºç¡€ä¸Šè¯•è¯• [é¢è¯•é¢˜ 10.03. æœç´¢æ—‹è½¬æ•°ç»„](https://leetcode-cn.com/problems/search-rotate-array-lcci/) ã€‚

***

### å…¶ä»–ã€ŒäºŒåˆ†ã€ç›¸å…³é¢˜è§£

* äºŒåˆ†æ¨¡æ¿
    [29. ä¸¤æ•°ç›¸é™¤](https://leetcode-cn.com/problems/divide-two-integers/) : [äºŒåˆ† + å€å¢ä¹˜æ³•è§£æ³•ï¼ˆå«æ¨¡æ¿ï¼‰](https://leetcode-cn.com/problems/divide-two-integers/solution/shua-chuan-lc-er-fen-bei-zeng-cheng-fa-j-m73b/)

* äºŒåˆ†æœ¬è´¨ & æ¢å¤äºŒæ®µæ€§å¤„ç†

    [33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ï¼ˆæ‰¾ç›®æ ‡å€¼ï¼‰](https://leetcode-cn.com/problems/search-in-rotated-sorted-array/) : [ä¸¥æ ¼ O(logN)ï¼Œä¸€èµ·çœ‹æ¸…äºŒåˆ†çš„æœ¬è´¨](https://leetcode-cn.com/problems/search-in-rotated-sorted-array/solution/shua-chuan-lc-yan-ge-ologn100yi-qi-kan-q-xifo/)

    [81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ IIï¼ˆæ‰¾ç›®æ ‡å€¼ï¼‰](https://leetcode-cn.com/problems/search-in-rotated-sorted-array-ii/) : [è¯¦è§£ä¸ºä½•å…ƒç´ ç›¸åŒä¼šå¯¼è‡´ O(n)ï¼Œä¸€èµ·çœ‹æ¸…äºŒåˆ†çš„æœ¬è´¨](https://leetcode-cn.com/problems/search-in-rotated-sorted-array-ii/solution/gong-shui-san-xie-xiang-jie-wei-he-yuan-xtam4/)

    [153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ï¼ˆæ‰¾æœ€å°å€¼ï¼‰](https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/) : [ä¸¥æ ¼ O(logN)ï¼Œä¸€èµ·çœ‹æ¸…äºŒåˆ†çš„æœ¬è´¨](https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/solution/gong-shui-san-xie-yan-ge-olognyi-qi-kan-6d969/)

    [154. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ IIï¼ˆæ‰¾æœ€å°å€¼ï¼‰](https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array-ii/) : [è¯¦è§£ä¸ºä½•å…ƒç´ ç›¸åŒä¼šå¯¼è‡´ O(n)ï¼Œä¸€èµ·çœ‹æ¸…äºŒåˆ†çš„æœ¬è´¨](https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array-ii/solution/gong-shui-san-xie-xiang-jie-wei-he-yuan-7xbty/)

* äºŒåˆ† check å‡½æ•°å¦‚ä½•ç¡®å®š
    [34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®](https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/) : [è€ƒå¯Ÿå¯¹ã€ŒäºŒåˆ†ã€çš„ç†è§£ï¼Œä»¥åŠ check å‡½æ•°çš„ã€Œå¤§äº å°äºã€æ€ä¹ˆå†™](https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/solution/gong-shui-san-xie-kao-cha-dui-er-fen-de-86bk0/)

* äºŒåˆ†ç­”æ¡ˆçš„é¢˜ç›®
    [1482. åˆ¶ä½œ m æŸèŠ±æ‰€éœ€çš„æœ€å°‘å¤©æ•°](https://leetcode-cn.com/problems/minimum-number-of-days-to-make-m-bouquets/) : [åˆ©ç”¨ã€ŒäºŒæ®µæ€§ã€æ‰¾åˆ†å‰²ç‚¹ï¼Œä»¥åŠä¼˜åŒ– check å‡½æ•°](https://leetcode-cn.com/problems/minimum-number-of-days-to-make-m-bouquets/solution/gong-shui-san-xie-li-yong-er-duan-xing-z-ysv4/)
    [1011. åœ¨ D å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›](https://leetcode-cn.com/problems/capacity-to-ship-packages-within-d-days/) : [åˆ©ç”¨ã€ŒäºŒæ®µæ€§ã€æ‰¾åˆ†å‰²ç‚¹ï¼Œä»¥åŠå¦‚ä½•ç¡®å®šã€ŒäºŒåˆ†èŒƒå›´ã€](https://leetcode-cn.com/problems/capacity-to-ship-packages-within-d-days/solution/gong-shui-san-xie-li-yong-er-duan-xing-z-95zj/)

---

### æœ€å

è¿™æ˜¯æˆ‘ä»¬ã€Œåˆ·ç©¿ LeetCodeã€ç³»åˆ—æ–‡ç« çš„ç¬¬ `No.81` ç¯‡ï¼Œç³»åˆ—å¼€å§‹äº 2021/01/01ï¼Œæˆªæ­¢äºèµ·å§‹æ—¥ LeetCode ä¸Šå…±æœ‰ 1916 é“é¢˜ç›®ï¼Œéƒ¨åˆ†æ˜¯æœ‰é”é¢˜ï¼Œæˆ‘ä»¬å°†å…ˆå°†æ‰€æœ‰ä¸å¸¦é”çš„é¢˜ç›®åˆ·å®Œã€‚

åœ¨è¿™ä¸ªç³»åˆ—æ–‡ç« é‡Œé¢ï¼Œé™¤äº†è®²è§£è§£é¢˜æ€è·¯ä»¥å¤–ï¼Œè¿˜ä¼šå°½å¯èƒ½ç»™å‡ºæœ€ä¸ºç®€æ´çš„ä»£ç ã€‚å¦‚æœæ¶‰åŠé€šè§£è¿˜ä¼šç›¸åº”çš„ä»£ç æ¨¡æ¿ã€‚

ä¸ºäº†æ–¹ä¾¿å„ä½åŒå­¦èƒ½å¤Ÿç”µè„‘ä¸Šè¿›è¡Œè°ƒè¯•å’Œæäº¤ä»£ç ï¼Œæˆ‘å»ºç«‹äº†ç›¸å…³çš„ä»“åº“ï¼šhttps://github.com/SharingSource/LogicStack-LeetCode ã€‚

åœ¨ä»“åº“åœ°å€é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°ç³»åˆ—æ–‡ç« çš„é¢˜è§£é“¾æ¥ã€ç³»åˆ—æ–‡ç« çš„ç›¸åº”ä»£ç ã€LeetCode åŸé¢˜é“¾æ¥å’Œå…¶ä»–ä¼˜é€‰é¢˜è§£ã€‚

