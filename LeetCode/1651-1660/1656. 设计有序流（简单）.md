### é¢˜ç›®æè¿°

è¿™æ˜¯ LeetCode ä¸Šçš„ **[1656. è®¾è®¡æœ‰åºæµ](https://leetcode.cn/problems/design-an-ordered-stream/solution/by-ac_oier-5pe8/)** ï¼Œéš¾åº¦ä¸º **ç®€å•**ã€‚

Tag : ã€Œæ¨¡æ‹Ÿã€



æœ‰ `n` ä¸ª `(id, value)` å¯¹ï¼Œå…¶ä¸­ `id` æ˜¯ `1` åˆ° `n` ä¹‹é—´çš„ä¸€ä¸ªæ•´æ•°ï¼Œ`value` æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ä¸å­˜åœ¨ `id` ç›¸åŒçš„ä¸¤ä¸ªÂ `(id, value)` å¯¹ã€‚

è®¾è®¡ä¸€ä¸ªæµï¼Œä»¥ä»»æ„é¡ºåºè·å– `n`Â ä¸ªÂ `(id, value)`Â å¯¹ï¼Œå¹¶åœ¨å¤šæ¬¡è°ƒç”¨æ—¶æŒ‰ `id` é€’å¢çš„é¡ºåºè¿”å›ä¸€äº›å€¼ã€‚

å®ç° `OrderedStream` ç±»ï¼š

* `OrderedStream(int n)` æ„é€ ä¸€ä¸ªèƒ½æ¥æ”¶ `n` ä¸ªå€¼çš„æµï¼Œå¹¶å°†å½“å‰æŒ‡é’ˆ `ptr` è®¾ä¸º `1` ã€‚
* `String[] insert(int id, String value)` å‘æµä¸­å­˜å‚¨æ–°çš„ `(id, value)` å¯¹ã€‚å­˜å‚¨åï¼š
	* å¦‚æœæµå­˜å‚¨æœ‰ `id = ptr` çš„ `(id, value)` å¯¹ï¼Œåˆ™æ‰¾å‡ºä» `id = ptr` å¼€å§‹çš„ æœ€é•¿ `id` è¿ç»­é€’å¢åºåˆ— ï¼Œå¹¶ æŒ‰é¡ºåº è¿”å›ä¸è¿™äº› `id` å…³è”çš„å€¼çš„åˆ—è¡¨ã€‚ç„¶åï¼Œå°† `ptr` æ›´æ–°ä¸ºæœ€åé‚£ä¸ªÂ  `id + 1`Â ã€‚
	* å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªç©ºåˆ—è¡¨ã€‚

ç¤ºä¾‹ï¼š
![](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/11/15/q1.gif)

```
è¾“å…¥
["OrderedStream", "insert", "insert", "insert", "insert", "insert"]
[[5], [3, "ccccc"], [1, "aaaaa"], [2, "bbbbb"], [5, "eeeee"], [4, "ddddd"]]

è¾“å‡º
[null, [], ["aaaaa"], ["bbbbb", "ccccc"], [], ["ddddd", "eeeee"]]

è§£é‡Š
OrderedStream os= new OrderedStream(5);
os.insert(3, "ccccc"); // æ’å…¥ (3, "ccccc")ï¼Œè¿”å› []
os.insert(1, "aaaaa"); // æ’å…¥ (1, "aaaaa")ï¼Œè¿”å› ["aaaaa"]
os.insert(2, "bbbbb"); // æ’å…¥ (2, "bbbbb")ï¼Œè¿”å› ["bbbbb", "ccccc"]
os.insert(5, "eeeee"); // æ’å…¥ (5, "eeeee")ï¼Œè¿”å› []
os.insert(4, "ddddd"); // æ’å…¥ (4, "ddddd")ï¼Œè¿”å› ["ddddd", "eeeee"]
```

æç¤ºï¼š
* $1 <= n <= 1000$
* $1 <= id <= n$
* $value.length = 5$
* `value` ä»…ç”±å°å†™å­—æ¯ç»„æˆ
* æ¯æ¬¡è°ƒç”¨ `insert` éƒ½ä¼šä½¿ç”¨ä¸€ä¸ªå”¯ä¸€çš„ `id`
* æ°å¥½è°ƒç”¨ `n` æ¬¡ `insert`

---

### æ¨¡æ‹Ÿ

æ ¹æ®é¢˜æ„è¿›è¡Œæ¨¡æ‹Ÿå³å¯ã€‚

Java ä»£ç ï¼š
```Java
class OrderedStream {
    String[] ss = new String[1010];
    int idx, n;
    public OrderedStream(int _n) {
        Arrays.fill(ss, "");
        idx = 1; n = _n;
    }
    public List<String> insert(int key, String value) {
        ss[key] = value;
        List<String> ans = new ArrayList<>();
        while (ss[idx].length() == 5) ans.add(ss[idx++]);
        return ans;
    }
}
```
TypeScript ä»£ç ï¼š
```TypeScript
class OrderedStream {
    ss: string[]
    idx: number; n: number;
    constructor(_n: number) {
        this.idx = 1; this.n = _n;
        this.ss = new Array<string>(1010).fill("")
    }
    insert(key: number, value: string): string[] {
        this.ss[key] = value
        const ans = new Array<string>()
        while (this.ss[this.idx].length == 5) ans.push(this.ss[this.idx++])
        return ans
    }
}
```
* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$

---

### åŠ é¤

**åŠ é¤ä¸€é“è¿‘æœŸç¬”è¯•é¢˜ : [è¿‘æœŸé¢è¯•åŸé¢˜ï¼ˆç®€å•è®¡ç®—å‡ ä½•è¿ç”¨ï¼‰](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247492965&idx=1&sn=d0f2b13578e8b61891fbd7f9d1693695)ğŸ‰ ğŸ‰**

---

### æœ€å

è¿™æ˜¯æˆ‘ä»¬ã€Œåˆ·ç©¿ LeetCodeã€ç³»åˆ—æ–‡ç« çš„ç¬¬ `No.1656` ç¯‡ï¼Œç³»åˆ—å¼€å§‹äº 2021/01/01ï¼Œæˆªæ­¢äºèµ·å§‹æ—¥ LeetCode ä¸Šå…±æœ‰ 1916 é“é¢˜ç›®ï¼Œéƒ¨åˆ†æ˜¯æœ‰é”é¢˜ï¼Œæˆ‘ä»¬å°†å…ˆæŠŠæ‰€æœ‰ä¸å¸¦é”çš„é¢˜ç›®åˆ·å®Œã€‚

åœ¨è¿™ä¸ªç³»åˆ—æ–‡ç« é‡Œé¢ï¼Œé™¤äº†è®²è§£è§£é¢˜æ€è·¯ä»¥å¤–ï¼Œè¿˜ä¼šå°½å¯èƒ½ç»™å‡ºæœ€ä¸ºç®€æ´çš„ä»£ç ã€‚å¦‚æœæ¶‰åŠé€šè§£è¿˜ä¼šç›¸åº”çš„ä»£ç æ¨¡æ¿ã€‚

ä¸ºäº†æ–¹ä¾¿å„ä½åŒå­¦èƒ½å¤Ÿç”µè„‘ä¸Šè¿›è¡Œè°ƒè¯•å’Œæäº¤ä»£ç ï¼Œæˆ‘å»ºç«‹äº†ç›¸å…³çš„ä»“åº“ï¼šhttps://github.com/SharingSource/LogicStack-LeetCode ã€‚

åœ¨ä»“åº“åœ°å€é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°ç³»åˆ—æ–‡ç« çš„é¢˜è§£é“¾æ¥ã€ç³»åˆ—æ–‡ç« çš„ç›¸åº”ä»£ç ã€LeetCode åŸé¢˜é“¾æ¥å’Œå…¶ä»–ä¼˜é€‰é¢˜è§£ã€‚

